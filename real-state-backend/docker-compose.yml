services:
  api:
    build: ./real-state-backend
    container_name: realstate_project_api
    restart: always
    ports:
      - "8080:8080"
    environment:
      # IMPORTANTE: Aqu√≠ usamos el nombre del contenedor que YA TIENES arriba
      # Si tu contenedor de Postgres se llama 'postgres_server_realstate'
      DB_URL: "postgres://${DB_USER}:${DB_PASSWORD}@db:5432/${DB_NAME}?sslmode=disable"      
    volumes:
      - ./real-state-backend:/app
    networks:
      - realstate_network

networks:
  realstate_network:
    external: true # Esto le dice a Docker que use una red que ya existe